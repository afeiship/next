nx={BREAKER:{},VERSION:"1.3.3",DEBUG:!1,GLOBAL:function(){return this}.call(null)},function(t,_){var e=".",n="number",i=Array.prototype;_.nx=_.nx||t,t.noop=function(){},t.returnValue=function(t){return t},t.returnThen=function(){return{then:t.noop}},t.error=function(t){throw new Error(t)},t.each=function(_,e,i){var s,o,r=function(_,n){return e.call(i,_,n)===t.BREAKER};if(_){if(_.each)return _.each(e,i);if(o=_.length,typeof o===n)for(s=0;s<o&&!r(s,_[s]);s++);else for(s in _)if(_.hasOwnProperty(s)&&r(s,_[s]))break}},t.map=function(t,_,e){for(var i=typeof t.length===n?null:Object.keys(t),s=(i||t).length,o=Array(s),r=0;r<s;r++){var a=i?i[r]:r;o[r]=_(a,t[a],t)}return o},t.mix=function(_){var e,n,i=_||{},s=arguments;for(e=1,n=s.length;e<n;e++)t.each(s[e],function(t,_){i[t]=_});return i},t.get=function(t,_){if(t)return t.get?t.get(_):t[_]},t.set=function(_,e,n){if(_)return _.set&&_!==t?_.set(e,n):_[e]=n},t.slice=function(t,_,e){return i.slice.call(t,_,e)},t.path=function(_,n,i){var s,o=n.split(e),r=_||t.global;return void 0===i?t.each(o,function(_,e){r=t.get(r,e)}):(s=o.pop(),o.forEach(function(t){r=r[t]=r[t]||{}}),t.set(r,s,i)),r}}(nx,nx.GLOBAL),"undefined"!=typeof module&&module.exports?module.exports=nx:"function"==typeof define&&define.amd?define([],function(){return nx}):window.nx=nx,function(t,_){t.event={init:function(){this.__listeners__={}},destroy:function(){this.__listeners__={}},on:function(t,_,e){var n=this.__listeners__,i=n[t]=n[t]||[];i.push({owner:this,handler:_,context:e})},off:function(_,e,n){var i=this.__listeners__[_];e?t.each(i,function(t,_){_.handler!==e||n&&_.context!==n||i.splice(t,1)}):i.length=0},fire:function(_,e){var n=this.__listeners__[_];n&&t.each(n,function(_,n){if(n&&n.handler&&n.handler.call(n.context||n.owner,n.owner,e)===!1)return t.BREAKER})}}}(nx,nx.GLOBAL),function(t,_){function e(){}var n=/__Class__\.(.*) \(/,i=/at (.*) \(/,s={__classId__:0,__type__:"nx.RootClass",__module__:"root",__base__:Object,__meta__:{},__init__:t.noop,__static_init__:t.noop,__mixins__:[],__statics__:{},__properties__:[],__methods__:{}},o=s.__methods__=e.prototype={constructor:e,init:t.noop,destroy:t.noop,base:function(){var t,_,e,s;try{if(_=this.base.caller.__base__)return _.apply(this,arguments)}catch(o){return s=o.stack.split("\n")[2],t=(s.match(n)||s.match(i))[1],_=this.$base[t],e=[].slice.call(arguments,0),_.apply(this,e)}},get:function(t){var _=this.memberType(t);switch(_){case"method":case"property":case"undefined":return this[t];case"static":return this.constructor[t]}},set:function(t,_){this[t]=_},gets:function(){var _={};return t.each(this.__properties__,function(t){_[t]=this.get(t)},this),_},sets:function(_){t.each(_,function(t,_){this.set(t,_)},this)},member:function(t){return this["@"+t]},memberMeta:function(t){var _=this.member(t);return _&&_.__meta__},memberType:function(t){var _=this.member(t);return _&&_.__type__||"undefined"},toString:function(){return"[Class@"+this.__type__+"]"}};t.mix(e,s),t.mix(o,s,t.event),t.RootClass=e}(nx,nx.GLOBAL),function(t,_){t.defineProperty=function(_,e,n,i){var s,o,r,a,c,h="@"+e,u=n&&"object"==typeof n?n:{value:n};return"value"in u?(a=u.value,c="_"+e,s=function(){return c in this?this[c]:"function"==typeof a?a.call(this):a},o=function(t){this[c]=t}):(s=n.get||_[h]&&_[h].get||t.noop,o=n.set||_[h]&&_[h].set||t.noop),h in _&&(s.__base__=_[h].get,o.__base__=_[h].set),r=_[h]={__meta__:n,__name__:e,__type__:"property",get:s,set:o,configurable:!0},Object.defineProperty(_,e,r),r},t.defineMethod=function(t,_,e,n){var i="@"+_;return n.forEach(function(t){var _=t.prototype;i in _&&(e.__base__=_[i].__meta__)}),i in t&&(e.__base__=t[i].__meta__),t[_]=e,t[i]={__meta__:e,__name__:_,__type__:"method"}},t.defineBombMethod=function(_,e,n,i){var s=e.split(",");s.forEach(function(e){t.defineMethod(_,e,n.call(_,e),i)})},t.defineStatic=function(t,_,e,n){var i="@"+_;return n.forEach(function(t){i in t&&(e.__base__=t[i].__meta__)}),i in t&&(e.__base__=t[i].__meta__),t[_]=e,t[i]={__meta__:e,__name__:_,__type__:"static"}},t.defineMembers=function(_,e,n,i){var s="define"+_.charAt(0).toUpperCase()+_.slice(1);t.each(n,function(_,n){_.indexOf(",")>-1?t.defineBombMethod(e,_,n,i):t[s](e,_,n,i)})}}(nx,nx.GLOBAL),function(t,_){function e(){var t={},_=c.apply(r,arguments);return _.filter(function(_){return!t[_.__type__]&&(t[_.__type__]=!0)})}function n(_,e){this.type=_,this.meta=e,this.base=e["extends"]||t.RootClass,this.module=e.module,this.$base=this.base.prototype,this.__classMeta__={},this.__Class__=null,this.__constructor__=null}var i=1,s=0,o="nx.Anonymous",r=Array.prototype,a=r.slice,c=r.concat;n.prototype={constructor:n,initMetaProcessor:function(){var _=this.meta.methods||{},e=this.meta.statics||{};t.mix(this.__classMeta__,{__type__:this.type,__meta__:this.meta,__base__:this.base,__module__:this.module,__classId__:i++,__init__:_.init||this.base.__init__,__static_init__:e.init||this.base.__static_init__,__static_pure__:!this.meta.methods&&!!this.meta.statics})},createClassProcessor:function(){var t=this;this.__Class__=function(){var _=a.call(arguments);this.__id__=++s,this.__listeners__={},t.__constructor__.apply(this,_)}},mixinItemsProcessor:function(){var _=this.base,n=this.meta.mixins||[],i=this.__classMeta__,s=[],o={},r={},a={},c=[],h={},u={},f={};t.each(n,function(_,e){c=e.__mixins__,h=e.__methods__,u=e.__properties__,f=e.__statics__,s=s.concat(c),t.mix(o,h),t.mix(r,u),t.mix(a,f)}),i.__mixins__=e(s,_.__mixins__,n),i.__methods__=t.mix(o,_.__methods__),i.__properties__=t.mix(r,_.__properties__),i.__statics__=t.mix(a,_.__statics__)},inheritProcessor:function(){var t=this.__classMeta__;this.copyAtProps(t),this.defineMethods(t),this.defineProperties(t),this.defineStatics(t)},copyBaseProto:function(){this.__Class__.prototype.$base=this.$base},copyAtProps:function(_){var e=this.$base;t.each(e,function(t,_){t.indexOf("@")>-1&&(this.__Class__.prototype[t]=_)},this)},defineMethods:function(_){var e=t.mix(_.__methods__,this.meta.methods);t.defineMembers("method",this.__Class__.prototype,e,_.__mixins__)},defineProperties:function(_){var e=_.__static_pure__?this.__Class__:this.__Class__.prototype,n=t.mix(_.__properties__,this.meta.properties);t.defineMembers("property",e,n,_.__mixins__)},defineStatics:function(_){var e=t.mix(_.__statics__,this.meta.statics);t.defineMembers("static",this.__Class__,e,_.__mixins__)},methodsConstructorProcessor:function(){var _=this.__classMeta__,e=_.__mixins__;this.__constructor__=function(){var n=a.call(arguments);t.each(e,function(t,_){_.__init__.call(this)},this),_.__init__.apply(this,n)}},staticsConstructorProcessor:function(){var t=this.__classMeta__;t.__static_init__.call(this.__Class__)},registerNsProcessor:function(){var e=this.__Class__,n=this.type,s=this.__classMeta__;t.mix(e.prototype,s,{constructor:e}),t.mix(e,s),n!==o+i&&t.path(_,n,e)}},t.declare=function(t,_){var e="string"==typeof t?t:o+i,s=_||t,r=new n(e,s);return r.initMetaProcessor(),r.createClassProcessor(),r.copyBaseProto(),r.mixinItemsProcessor(),r.inheritProcessor(),r.methodsConstructorProcessor(),r.staticsConstructorProcessor(),r.registerNsProcessor(),r.__Class__}}(nx,nx.GLOBAL);